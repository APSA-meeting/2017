!function(){"use strict";var t,o,n,i,e,a,c,h,s,r=window.location.hash;h=function(t){history&&(0===t.length?history.pushState("",document.title,window.location.pathname):history.pushState("",document.title,window.location.pathname+"#"+t))},c=function(){s=[{location:0,id:""}],$(".anchor").each(function(){s.push({location:$(this).offset().top,id:$(this).attr("id")})}),s=s.sort(function(t,o){return t.location-o.location})},o=function(t){var o=$(this),n=$(".navbar").height(),i=$(e[t]),a=i.offset().top,c=a+i.height();o.on("affix.bs.affix",function(){o.css("width",o.parent().width()),o.parent().css("min-height",o.height())}),o.affix({offset:{top:o.offset().top-n,bottom:$(document).height()-c}})},n=function(){var t,o=$(this);return t=$("<div>"),o.wrap(t),o.parent()[0]},i=function(t){var o,n=$(this);return o=$(a[t]).clone(),n.empty(),n.append(o),n.css("min-height",o.height()),o[0]},window.onscroll=function(){var o,n=window.pageYOffset,i=!1,e=s[s.length-1].id;for(n>=t?$(".top-navigation").fadeIn():$(".top-navigation").fadeOut(),o=0;!i&&o<s.length-1;o+=1)n>=s[o].location&&n<s[o+1].location&&(i=!0,e=s[o].id);e!==r&&(h(e),r=e)},$(window).load(function(){var h,s;e=$(".agenda-table"),h=$(".agenda-day"),a=h.clone(),s=h.map(n),h.each(o),$(".top-navigation").click(function(){window.scrollTo(0,0)}),t=$(".anchor").eq(1).offset().top,c(),$(".more-less").on("hide.bs.collapse",function(){$(this).children().children("a[data-toggle]").text("More"),c()}).on("show.bs.collapse",function(){$(this).children().children("a[data-toggle]").text("Less"),c()}),$(".bubble-md, .bubble-sm").mouseover(function(){$(this).children().children("div").css("opacity","0.5")}).mouseout(function(){$(this).children().children("div").css("opacity","1")}),$(window).on("resize",function(){h=s.map(i),h.each(o),t=$(".anchor").eq(1).offset().top,c()})})}();